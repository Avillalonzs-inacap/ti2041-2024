{% extends 'productos/base.html' %}

{% block title %}Filtrar Productos{% endblock %}

{% block content %}
<div class="header">
    <h1>Filtrar Productos</h1>
</div>

<a href="{% url 'productos:index' %}" class="btn btn-info mb-3">Volver</a>

<form method="get" action="" class="shadow p-4 rounded">
    <div class="form-group mb-3">
        <label for="marca">Marca:</label>
        <select name="marca" class="form-control">
            <option value="">-- Todas las marcas --</option>
            {% for marca in marcas %}
                <option value="{{ marca.id }}">{{ marca.nombre }}</option>
            {% endfor %}
        </select>
    </div>

    <div class="form-group mb-3">
        <label for="categoria">Categoría:</label>
        <select name="categoria" class="form-control">
            <option value="">-- Todas las categorías --</option>
            {% for categoria in categorias %}
                <option value="{{ categoria.id }}">{{ categoria.nombre }}</option>
            {% endfor %}
        </select>
    </div>

    <button type="submit" class="btn btn-primary">Filtrar</button>
</form>

{% if productos %}
    <h2>Resultados:</h2>
    <ul>
    {% for producto in productos %}
        <li>{{ producto.nombre }} - {{ producto.marca }} - Precio: {{ producto.precio }}</li>
    {% endfor %}
    </ul>
{% else %}
    <p>No hay productos que coincidan con los criterios.</p>
{% endif %}
{% endblock %}
